knitr::opts_chunk$set(echo = FALSE,
warning = FALSE,
message = FALSE)
library(tidyverse)
library(ggplot2)
library(readxl)
data<- read.csv2("Salida1.csv")
data<- data %>% mutate(Parcela = as.factor(Parcela),
Subparcela = as.factor(Subparcela)) %>% select(-c(X.))
data<- data %>% group_by(Parcela) %>% mutate(`Area ind(m)`= (pi/4)*(DAP_cm/100)^2,
Dap_f_cm = (d1+d2)/2,
`Area copa(m)` = (pi/4)*(D_copa)^2) %>%
mutate(`Error DAP`= ((abs(Dap_f_cm - DAP_cm))/ DAP_cm)*100,
`Error alt` = ((abs(Alt_med - Alt_cal))/ Alt_cal)*100)
data1<- read_xlsx("datoscampo.xlsx")
data2<- read_xlsx("Libro1_datos_daso_g3.xlsx")
data3<- read_xlsx("SantaElena.xlsx")
data1<- data1 %>% mutate(`Area copa(m)`= (pi/4)*((D1_DC_m+D2_DC_m)/2)^2,
Dc= (D1_DC_m+D2_DC_m)/2) %>%
rename(Altura= Altura_Laser, DAP_cm= DAP_cm_D) %>% select(Parcela, DAP_cm, Altura,
`Area copa(m)`, Dc) %>%
filter(Altura != "NA")
data2<- data2 %>% mutate(Parcela= as.factor(Parcela), Subparcela= as.factor(Subparcela)) %>%
mutate(DAP_cm= (F1+F2)/2, `Area copa(m)`= (pi/4)*((D1+D2)/2)^2,
Dc= (D1+D2)/2) %>%
rename(Altura= Hipsometro) %>%
group_by(Subparcela) %>% mutate(Parcela= if_else(Parcela == "1", "7", "8")) %>%
select(Parcela, DAP_cm, Altura, `Area copa(m)`, Dc) %>% filter(Altura != "NA")
data2<- data2[,-1]
data3<- data3 %>% mutate(Parcela= as.factor(Parcela), dc_1_m= as.numeric(dc_1_m),
dc_2_m= as.numeric(dc_2_m)) %>%
mutate(`Area copa(m)`= (pi/4)*((dc_1_m+dc_2_m)/2)^2,
Dc= (dc_1_m+dc_2_m)/2) %>%
rename(Altura= H_total, parcela= Parcela) %>% group_by(parcela) %>%
mutate(Parcela= if_else(parcela == "P1", "9", if_else(parcela == "P2", "10", "11"))) %>%
filter(Altura != "NA") %>% select(Parcela, DAP_cm, Altura, `Area copa(m)`, Dc)
data3<- data3[,-1]
data<- data %>% rename(Altura= Alt_cal, Dc= D_copa) %>% select(Parcela, DAP_cm, Altura, `Area copa(m)`, Dc) %>%
filter(Altura != "NA")
data1<- as.tibble(data1)
data2<- as.tibble(data2)
data3<- as.tibble(data3)
data<- as.tibble(data)
data1$Parcela<- as.factor(data1$Parcela)
datos<- rbind(data, data1, data2, data3)
datos<- datos %>% mutate(DAP_cm= as.numeric(DAP_cm),
Altura= as.numeric(Altura))
linear<- lm(Altura ~ DAP_cm, data= datos)
summary(linear)
anova
anova(linear)
nlinear<- lm(log(Altura) ~ log(DAP_cm), data= datos)
ggplot(datos, mapping = aes(x= DAP_cm, y= Altura)) +
geom_point() +
geom_smooth(broom::augment(nlinear), mapping = aes(x= exp(log.DAP_cm.),
y= exp(((anova(nlinear)$"Mean Sq"[2])/2)+2.3479291+0.1552072*log.DAP_cm.)))
summary(nlinear)
anova
anova(nlinear)
datos<- datos %>% filter(`Area copa(m)` != 0)
linear<- lm(`Area copa(m)` ~ DAP_cm , data= datos)
summary(linear)
anova(linear)
nlinear<- lm(log(`Area copa(m)`) ~ log(DAP_cm), data= datos)
summary(nlinear)
anova(nlinear)
datos1<- datos %>% group_by(Parcela) %>% summarise(Dcp= sum(Dc)/length(Parcela), N_ind= length(Parcela))
linear<- lm(Dcp ~ N_ind , data= datos1)
summary(linear)
anova(linear)
nlinear<- lm(log(Dcp) ~ log(N_ind), data= datos1)
summary(nlinear)
datos1<- datos %>% group_by(Parcela) %>%
summarise(Dcp= sum(Dc)/length(Parcela),
Hprom= sum(Altura)/length(Parcela))
linear<- lm(Hprom ~ Dcp , data= datos1)
summary(linear)
nlinear<- lm(log(Hprom) ~ log(Dcp), data= datos1)
summary(nlinear)
